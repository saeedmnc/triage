<style>
    .activeBtn{
        background-color: #44b5b7!important;
        color: white;
    }
    .btn1{
        border: 1px solid;
        background-color: white;

    }
    .header{
        background-color: #063d78;
        color: white;
        padding-top: 5px;
        padding-bottom: 5px;
        display: flex;
        justify-content: center;
    }
    .header h5{
        margin-top: 5px;
        /*margin-left: 10px;*/
        /*margin-right: 10px;*/
    }

    P  {
        color: grey;
        font-size: 1.1rem;
        margin-top: 5px;

    }
    .col-1{
        text-align: right;
    }
    .gray{
        background-color:#a6a1a1 ;
    }
    .red{
        background-color: red !important
    }
    .orange{
        background-color: orange !important;
    }
    .yellow{
        background-color: yellow !important;
        color: black !important;
    }
    .green{
        background-color: #0ABC76 !important;
    }
    .Active{
        background-color: #44b5b7;!important;
        color: white!important;
    }
    .hoverDelete:hover{
        background-color:#e18932 ;
    }
    table ,table th,table td{
        border-color: black!important;
    }
input[value]{
    background-color: yellow;
    font-size: 200px;
}
.btnB{
    border: 1px solid black;
}
.btnB:hover{
    background-color:#0a9e67;
}



</style>
<form action="" ></form>
<div class="container-fluid" style="font-family: iransans" *ngIf="info">

    <div class="row" >
        <div class="col-12 mt-2" style="padding: 0">
            <div class="header">
                <h5 >گروه اطلاعات پرونده پذیرش </h5>
                <!--<h5>Patient Information</h5>-->
            </div>
        </div>
    </div>
    <div class="row border"  >
        <!--ردیف اول -->
        <div class="col-12   d-flex my-1"  >

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700"> نام:</label>
            </div>
            <div class="col-2 my-1" >
                <input readonly type="text" class="form-control" value="{{info['firstName']}}">

            </div>

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700"> نام خانوادگی:</label>
            </div>
            <div class="col-2 my-1">
                <input readonly type="text" class="form-control" value="{{info['lastName']}}">
            </div>

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">جنسیت :</label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
            <p>
                      {{info['genderName']}}
            </p>
            </div>
            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700"  >  کد پذیرش:</label>
            </div>
            <div class="col-2 my-1  " style="text-align: right">
                <p>
                    12345
                </p>
            </div>


        </div>
        <!--پیابان ردیف اول -->
        <!--ردیف دوم -->
        <div class="col-12  d-flex my-1" >

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700" >  کد پذیرش :</label>
            </div>
            <div class="col-2 my-1  " style="text-align: right">
                <p>
                    {{info['encounterID']}}

                </p>
            </div>

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">    شماره پرونده
                :
                </label>
            </div>
            <div class="col-2 my-1" style="text-align: right">

                    <p>

                        {{info['recordNumber']}}

                    </p>

            </div>

            <div class="col-1 my-1"style="text-align: left">
                <label for="" class="mt-1 text-bold-700" >
                    تاریخ مراجعه  :</label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['encounterDate']}}

                </p>
            </div>
            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">ساعت مراجعه:</label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['encounterTime']}}
                </p>
            </div>




        </div>
        <!--پایان ردیف دوم-->
        <!-- ردیف سوم-->
        <div class="col-12  d-flex my-1" >



            <div class="col-1 my-1" style="text-align: left;">
                <label for="" class="mt-1 text-bold-700">

                    کد ملی
                :
                </label>
            </div>

            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['nationalCode']}}

                </p>
            </div>

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">ملیت:</label>
            </div>
            <div class="col-2 my-1">
                <p style="text-align: right">
                    {{info['countryName']}}
                </p>
            </div>

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">
                    تاریخ تولد  :</label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>

                    {{info['birthDate']}}
                </p>
            </div>
            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">
                     تلفن  :</label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['telNo1']}}

                </p>
            </div>




        </div>
        <div class="col-12  d-flex my-1" >



            <div class="col-1 my-1" style="text-align: left;">
                <label for="" class="mt-1 text-bold-700">پزشک معالج:  </label>
            </div>

            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['pracName']}}                </p>
            </div>

            <div class="col-1 my-1"style="text-align: left">
                <label for="" class="mt-1 text-bold-700">بیمه پایه:</label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>
{{info['insurerName1']}}
                </p>
            </div>

            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">
بیمه تکمیلی :
                </label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['insurerName2']}}
                </p>
            </div>
            <div class="col-1 my-1" style="text-align: left">
                <label for="" class="mt-1 text-bold-700">
                    بخش:
                </label>
            </div>
            <div class="col-2 my-1" style="text-align: right">
                <p>
                    {{info['locationName']}}

                </p>
            </div>
        </div>
        <div class="col-12 d-flex my-1">
            <div class="col-1 my-1 " style="text-align: left">
                <label for="" class="mt-1 text-bold-700"> آدرس:</label>
            </div>
            <div class="col-8 mt-1" style="text-align: right">
                <p for="" class="mt-1 text-bold-700" >
                    {{info['address']}}

                </p>
            </div>

        </div>


         


    </div>
    <div class="row">
        <div class="col-12 mt-2" style="padding: 0">
            <div class="header">
                <h5 >گروه اطلاعات پرونده مددکاری اجتماعی
                </h5>
                <!--<h5>Patient Information</h5>-->
            </div>
        </div>
    </div>
    <div class="row border">
        <!--ردیف اول -->
        <div class="col-12  d-flex my-1" >

            <div class="col-1 my-1">
                <label for="" class="mt-1 text-bold-700"> نام پدر: </label>
            </div>
            <div class="col-2 my-1">
                <input readonly type="text" class="form-control" value="{{info['fatherName']}}">
            </div>

            <div class="col-2 my-1">
                <label for="" class="mt-1 text-bold-700">نام خانوادگی پدر :</label>
            </div>
            <div class="col-2 my-1">
                <input readonly type="text" class="form-control" value="{{info['fatherName']}}">
            </div>
        </div>
        <!--پیابان ردیف اول -->
        <!--ردیف دوم -->
        <div class="col-12  d-flex my-1" >

            <div class="col-1 my-1">
                <label for="" class="mt-1 text-bold-700"> نام مادر: </label>
            </div>
            <div class="col-2 my-1">
                <input readonly type="text" class="form-control" value="{{info['motherFirstName']}}">
            </div>

            <div class="col-2 my-1">
                <label for="" class="mt-1 text-bold-700">نام خانوادگی مادر :</label>
            </div>
            <div class="col-2 my-1">
                <input readonly type="text" class="form-control" value="{{info['motherFirstName']}}">
            </div>
        </div>
        <!--پایان ردیف دوم-->
        <!-- ردیف سوم-->
        <div class="col-12 d-flex my-1">
            <div class="col-1">
                <label for="" class="mt-1 text-bold-700">وضعیت تاهل:</label>
            </div>
            <div class="col-3 d-flex" style="direction: rtl;text-align: right;padding: 0">
                <div class=""  *ngFor="let i of MaritalStatus" style="padding: 0">
                    <button [disabled]="disabledElem===true" [style.background-color]="i.BackgroundColour" [style.color]="i.color" (click)= "getMaritalStatus(i.code,i.value,i)" class="btn1 ">{{i.value}}</button>
                </div>
                <!--<div class="col-2" style="padding: 0">-->
                    <!--<button class="btn btn-outline-primary form-control">متاهل</button>-->
                <!--</div><div class="col-2" style="padding: 0">-->
                    <!--<button class="btn btn-outline-primary form-control">طلاق </button>-->
                <!--</div><div class="col-3" style="padding: 0">-->
                    <!--<button class="btn btn-outline-primary form-control">فوت همسر</button>-->
                <!--</div>-->
            </div>
            <div style="padding-left: 25px">
                <label for="" class="mt-1 text-bold-700" >سطح تحصیلات:</label>

            </div>

            <div class="col-2" style="direction: rtl;text-align: right">
                <input type="text" class="form-control" disabled [(ngModel)]="educationVAlue" *ngIf="desableEducationInput===true"  >
                <select name="" id="" class="form-control" *ngIf="desableEducationInput===false" [(ngModel)]="educationVAlue" (change)="getEducation($event)" >
                    <option value=""></option>
                    <option value="{{i.code}}" *ngFor="let i of education">{{i.value}}</option>

                </select>
            </div>
            <div class="col-1 my-1" style="text-align: right;direction: rtl;">
                <label for="" class="mt-1 text-bold-700" >شغل:</label>

            </div>

            <div class="col-2" style="direction: rtl;text-align: right;padding: 0">
                <input type="text" class="form-control" disabled [(ngModel)]="jobsValue" *ngIf="desableJobsInput===true"  >
                <select name="" id="jobs" class="form-control" *ngIf="desableJobsInput===false"  [(ngModel)]="jobsValue" (change)="getJobs($event)" >
                    <option value=""></option>
                    <option value="{{i.code}}" (click)="getJobs()" *ngFor="let i of Jobs">{{i.value}} </option>

                </select>
            </div>


        </div>
        <!--پایان ردیف 3-->
        <!--ردیف 4 -->
        <div class="col-12 d-flex my-1">
            <div class="col-1">
                <label for="" class="mt-1 text-bold-700">تعداد فرزندان:</label>
            </div>
            <div class="col-2" style="direction: rtl;text-align: right">
                <select name="" id="" class="form-control" [disabled]="childrenDisable===true" [(ngModel)]="children" (change)="getChildren($event)">
                    <option value=""></option>
                    <option value="0">ندارد </option>
                    <option value="1"> 1 </option>
                    <option value="2"> 2</option>
                    <option value="3"> 3</option>
                    <option value="4"> 4</option>
                    <option value="5"> 5</option>
                    <option value="6"> 6</option>
                    <option value="7"> 7</option>
                    <option value="8"> 8</option>
                    <option value="9">9</option>
                    <option value="10"> 10</option>
                    <option value="11"> 11</option>
                    <option value="12"> 12</option>
                    <option value="13"> 13</option>
                    <option value="14"> 14</option>
                    <option value="15"> 15</option>
                </select>
            </div>
            <div class="col-2">
                <label for="" class="mt-1 text-bold-700" style="margin-left: 40px" >همراه بیمار:</label>
            </div>

            <div class="col-2" style="direction: rtl;text-align: right">
            <button [ngClass]="{'activeBtn':hasRelative===true}" [disabled]="hasRelativeInput===true" class="btn1" (click)="patinetHasRelatieve()">دارد</button>
            <button  [ngClass]="{'activeBtn':hasRelative===false}" [disabled]="hasRelativeInput===true" class="btn1 "(click)="patinetDosentHasRelatieve()">ندارد </button>
            </div>
        </div>
        <!--پایان ردیف 4-->
        <!--ردیف5-->
        <div class="col-12 d-flex my-1 justify-content-between" *ngIf="hasRelative">
            <div class=" my-1" style="text-align: right;direction: rtl;margin-left: 30px">
                <label for="" class="mt-1 text-bold-700" >نام و نام خانوادگی همراه:</label>
            </div>

            <div class="col-2" style="direction: rtl;text-align: right;padding: 0">
                <input [disabled]="disabledElem===true" type="text" class="form-control" [(ngModel)]="relativeName" >
            </div>
            <div class="col-2" style="text-align: right; padding: 0">
                <label for="" class="mt-1 text-bold-700">نسبت همراه با بیمار</label>
            </div>
            <div class="col-2" style="direction: rtl;text-align: right;padding: 0">
                <input *ngIf="disabledElem===true" disabled type="text" class="form-control" [(ngModel)]="relationVAlue" >
                <select *ngIf="disabledElem===false" name="" id="" class="form-control" (change)="relationAttandet($event)">
                    <option value=""></option>
                    <option value="1">پدر</option>
                    <option value="2">مادر </option>
                    <option value="3">پدربزرگ </option>
                    <option value="4">مادربزرگ </option>
                    <option value="5">مادربزرگ </option>
                    <option value="6">خواهر </option>
                    <option value="7">برادر </option>
                    <option value="8">همسر </option>
                    <option value="9">فرزند </option>
                    <option value="10">فامیل </option>
                    <option value="11">دوست </option>
                    <option value="12">آشنا </option>
                    <option value="13">همسایه </option>
                    <option value="14">همکار </option>
                    <option value="15">سایر </option>
                </select>
            </div>
            <div class="" style="text-align: right;">
                <label for="" class="mt-1 text-bold-700">شماره تلفن همراه بیمار:</label>
            </div>
            <div class="col-2" style="direction: rtl;text-align: right">
                <input [disabled]="disabledElem===true" type="text" class="form-control" [(ngModel)]="relatedTel">
            </div>



        </div>
        <!--پایان ردیف 5-->
        <!--ردیف  نحوه مراجعه-->
        <div class="col-12 d-flex my-1">
            <div class="" style="text-align: right">
                <label for="" class="mt-1 text-bold-700">نحوه مراجعه به مددکار اجتماعی</label>
            </div>
            <div class="col-10 mr-2 d-flex" style="direction: rtl;text-align: right;padding: 0">

                    <button class="btn1" [disabled]="howToEnterBtn===true" [style.background-color]="i.BackgroundColour" [style.color]="i.color" (click)="getINteranceType(i.code,i.value,i)"  *ngFor="let i of InteranceType" >{{i.value}}</button>

                    <!--<button  class="btn btn-outline-primary form-control">راند</button>-->


                    <!--<button  class="btn btn-outline-primary form-control">تریاژ</button>-->


                    <!--<button  class="btn btn-outline-primary col-2 form-control">ارجاع از کادر درمان </button>-->


                <!--<button class="btn btn-outline-primary col-3 form-control">ارجاع از سازمان های دولتی </button>-->


                <!--<button class="btn btn-outline-primary col-3 form-control">ارجاع از سازمان های غیر دولتی  </button>-->


                <!--<button class="btn btn-outline-primary form-control">سایر</button>-->

            </div>



        </div>
        <!--پایان نحوه مراجعه-->
            <!--گروه هدف-->

            <!--<div class="col-12 d-flex" >-->

                <!--<div class="col-1">-->
                    <!--<label for="" class="mt-1 text-bold-700">گروه هدف :</label>-->
                <!--</div>-->
                <!--<div class="col-5 d-flex">-->
                    <!--<div class="col-10" >-->
                        <!--<input type="text" class="form-control" style="border-left: 1px solid gray" (click)="focuseInput()" value="{{targetItemInputValue}}" >-->
                        <!--<div class="col-12" *ngIf="showGruopMain " style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" >-->
                                <!--<li class="list-group-item" style="cursor: pointer" (click)="getTargetItem(i.id,i.value)" *ngFor="let i of targetGroupMAin">{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->

                    <!--</div>-->
                    <!--<div class="col-1">-->
                        <!--<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chevron-bar-down" viewBox="0 0 16 16">-->
                            <!--<path fill-rule="evenodd" d="M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"/>-->
                        <!--</svg>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="col-1">-->
                    <!--<label for="" class="mt-1 text-bold-700">گروه هدف :</label>-->
                <!--</div>-->
                <!--<div class="col-5 d-flex">-->
                    <!--<div class="col-10"  >-->
                        <!--<input type="text" class="form-control" style="border-left: 1px solid gray" value="{{TargetInputValue}}" >-->
                        <!--<div class="col-12" *ngIf="id==='1'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of childAbuse" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='2'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of Violence" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='3'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of sycotik" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='4'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of parentProblem" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='5'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of DisorderFamily" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='6'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of Criticalconditions" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='7'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent)" style="cursor: pointer" *ngFor="let i of Insurancedocuments" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='8'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent)" style="cursor: pointer" *ngFor="let i of other" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->
                        <!--<div class="col-12" *ngIf="id==='9'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                            <!--<ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse" >-->
                                <!--<li class="list-group-item">انتخاب کنید</li>-->
                                <!--<li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value)" style="cursor: pointer" *ngFor="let i of Acutedisease" >{{i.value}}</li>-->
                            <!--</ul>-->
                        <!--</div>-->

                    <!--</div>-->
                    <!--<div class="col-1">-->
                        <!--<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chevron-bar-down" viewBox="0 0 16 16">-->
                            <!--<path fill-rule="evenodd" d="M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"/>-->
                        <!--</svg>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
            <!--لیست گروه هدف ها-->


            <!--پایان گروه هدف -->
        <!-- گره های هدف آرایه -->
    <div class="col-12 mt-5" style="padding: 0" *ngFor="let u of TargetArray;let myIndex=index">
                <div style="padding: 0" class="col-12 d-flex"  >

        <div class="col-1">
            <label for="" class="mt-1 text-bold-700">گروه هدف :</label>
        </div>
        <div class="col-5 d-flex" >
            <div class="col-10" >
                <div  >
                    <input [disabled]="targetDisabled1===true" value="{{arrayyyyyyyyy[myIndex]}}"   type="text" class="form-control" style="border-left: 1px solid gray" (click)="focuseInput(myIndex,$event)"  >
                </div>

                <div class="col-12" *ngIf="showGruopMain " style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0;visibility: hidden;" [attr.id]="'id' + myIndex" >
                    <ul   class="list-group" style="direction: rtl;text-align: right" >
                        <li class="list-group-item" style="cursor: pointer" (click)="getTargetItem(i.id,i.value,index,myIndex)" *ngFor="let i of targetGroupMAin;let index =index">{{i.value}}</li>
                    </ul>
                </div>

            </div>


        </div>
        <div class="col-1">
            <label for="" class="mt-1 text-bold-700">گروه هدف :</label>
        </div>
        <div class="col-5 d-flex">
            <div class="col-10"  >
                <input [disabled]="targetDisabled2===true" type="text" class="form-control"  style="border-left: 1px solid gray" value="{{TargetInputValueToShow[myIndex]}}" >
                <div class="col-12" *ngIf="id==='1'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul  class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1 " >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of childAbuse" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='2'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of Violence" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='3'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of sycotik" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='4'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of parentProblem" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='5'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of DisorderFamily" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='6'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of Criticalconditions" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='7'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of Insurancedocuments" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='8'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of other" >{{i.value}}</li>
                    </ul>
                </div>
                <div class="col-12" *ngIf="id==='9'" style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul  class="list-group" style="direction: rtl;text-align: right" *ngIf="showChildAbouse && Targetnumberofarray == myIndex +1" >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item" (click)="getChildAbouseDate(i.code,i.persent,i.value,i.id)" style="cursor: pointer" *ngFor="let i of Acutedisease" >{{i.value}}</li>
                    </ul>
                </div>

            </div>
            <!--<div class="col-1">-->
                <!--<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chevron-bar-down" viewBox="0 0 16 16">-->
                    <!--<path fill-rule="evenodd" d="M3.646 4.146a.5.5 0 0 1 .708 0L8 7.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zM1 11.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"/>-->
                <!--</svg>-->
            <!--</div>-->
        </div>
    </div>
        <div class="col-12 my-1 d-flex">
            <div class="col-2"></div>
            <div class="col-2 d-flex">
                <label for="" class="mt-1 text-bold-700">کد گروه:</label>
                <p> {{codeToshoow[myIndex]}}</p>
            </div>
            <div class="col-2 d-flex">
                <label for="" class="mt-1 text-bold-700">  درصد: </label>
                <p>{{persentToshow[myIndex]}}</p>
            </div>
        </div>



        </div>

<div class="col-12 my-3" style="direction: rtl;text-align: right"  >
    <button class="btn  btn-lg" (click)="addToTarget()" style="border: 1px solid;background-color: #0A52E1;color: white" [disabled]="targetDisabled1===true" >اضافه کردن گروه هدف

        <svg  xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-lg mx-2" viewBox="0 0 16 16">
            <path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"/>
        </svg>
    </button>
</div>


        <!--پایان آرایه گره های هدف -->


        <!--<div class="col-12">-->
            <!--<button (click)="addParvandeMadadkari()">کلیک</button>-->
        <!--</div>-->






    </div>
    <div class="row">
        <div class="col-12 mt-2" style="padding: 0">
            <div class="header">
                <h5 >گروه اطلاعات تریاژ مددکاری اجتماعی
                </h5>
                <!--<h5>Patient Information</h5>-->
            </div>
        </div>
    </div>
    <div class="row border">
        <!--ردیف اول -->
        <div class="col-12  d-flex my-1" >

            <div class="col-1 my-1" >
                <label for="" class="mt-1 text-bold-700">  تاریخ: </label>
            </div>
            <div class="col-2 my-1">
                <p class="text-bold-700">{{today}}</p>
            </div>

            <div class="col-2 my-1">
                <label for="" class="mt-1 text-bold-700">ساعت   :</label>
            </div>
            <div class="col-2 my-1">
                <p class="text-bold-700">{{finalTime}}</p>
            </div>
        </div>
        <!--پیابان ردیف اول -->

        <!-- ردیف 2م-->
        <div class="col-12 my-2 d-flex">
            <div class="col-6" style="text-align: right">
                <p for="" class="mt-1 text-bold-700" style="color: black">شدت بیماری بر اساس ESI:</p>
                <div class="col-12">
                    <input  type="text" class="form-control dangerInput" disabled  value="{{triageLevelInput}}"  (click)="ESIList()" >
                    <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="ShowESI">-->
                        <!--<div class="col-12" style="padding: 0" >-->
                            <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                <!--<ul class="list-group" style="direction: rtl;text-align: right" >-->
                                    <!--<li class="list-group-item" style="cursor: pointer" (click)="getESI(i.value,i.score,i.code)" *ngFor="let i of ESI">{{i.value}}</li>-->
                                <!--</ul>-->
                            <!--</div>-->

                        <!--</div>-->

                    <!--</div>-->
                </div>
            </div>
            <div class="col-6"style="text-align: right">
                <p for="" class="mt-1 text-bold-700"  style="color: black">پوشش بیمه ای:</p>
                <div class="col-12">
                    <input type="text"  [disabled]="disabledElem===true"   class="form-control dangerInput" [(ngModel)]="InsurancecoverageInput"  (click)="InsurancecoverageList()" >
                    <div class="col-12 d-flex" style="padding: 0" *ngIf="ShowInsurancecoverage">
                        <div class="col-12" style="padding: 0" >
                            <div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                                <ul class="list-group" style="direction: rtl;text-align: right" >
                                    <li class="list-group-item" style="cursor: pointer" (click)="getInsurancecoverage(i.value,i.score,i.code)" *ngFor="let i of Insurancecoverage">{{i.value}}</li>
                                </ul>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!--پایان ردیف 2-->
        <!--ردیف3-->
        <div class="col-12 d-flex my-2">
            <div class="col-6" style="text-align: right">
                <p for="" class="mt-1 text-bold-700" style="color: black">گروه های پرخطر:</p>
                <div class="col-12">
                    <div class="col-12">
                        <ng-select [items]="dangerGroups"
                                   [disabled]="disabledElem===true"
                                   style="font-family: iransans"
                                   bindLabel="value"
                                   [multiple]="true"
                                   placeholder="گروه های پرخطر "
                                   [hideSelected]="true"
                                   [(ngModel)]="selectedCityIds"

                        >

                        </ng-select>
                    </div>
                </div>
            </div>
            <div class="col-6"style="text-align: right">
                <p for="" class="mt-1 text-bold-700"  style="color: black">حضور همراه موثر:</p>
                <div class="col-12">
                    <input [disabled]="disabledElem===true" type="text" class="form-control dangerInput" [(ngModel)]="EffectiveCompanionInput"  (click)="EffectiveCompanionList()" >
                    <div class="col-12 d-flex" style="padding: 0" *ngIf="ShowEffectiveCompanion">
                        <div class="col-12" style="padding: 0" >
                            <div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                                <ul class="list-group" style="direction: rtl;text-align: right" >
                                    <li class="list-group-item" style="cursor: pointer" (click)="getEffectiveCompanion(i.value,i.score,i.code)" *ngFor="let i of EffectiveCompanion">{{i.value}}</li>
                                </ul>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!--پایان 3-->
        <!--ردیف 4-->
        <div class="col-12 my-2 " style="text-align: right">
            <div class="col-6">
                <p for="" class="mt-1 text-bold-700" style="color: black">شرح مختصر:</p>

            </div>
            <textarea name="" [disabled]="disabledElem===true" class="form-control" id="" cols="30" rows="5" [(ngModel)]="shortExplain"></textarea>
        </div>
        <!--پایان 4-->
        <!--ردیف5-->
        <div class="col-12 my-1 d-flex" style="text-align: right">
            <div class="col-8 d-flex">
                <label for="" class="mt-1 text-bold-700 mt-2"> تعیین الویت: </label>

                <div *ngIf="disabledElem===false"   class="col-3 mr-1" style="font-size: 1.2rem;background-color:#0A52E1;text-align: center ;border-radius: 10px;cursor: pointer;" (click)="calcFinalScore()">
                    <p class="mt-2" style="color: white">محاسبه امتیاز</p>
                </div>
                <small *ngIf="calcvalid===false" style="color: red">*دکمه محاسبه را بزنید</small>
            </div>
            <div *ngIf="showFinal==true" class="col-2" style="font-size: 1.2rem;background-color:#0A52E1;color: white;text-align: center ;border-radius: 10px" [ngClass]="{'red':color == 1,'orange':color==2,'yellow':color==3,'green':color==4}" >
                <p class="mt-2" style="color: white" [ngClass]="{'yellow':color==3}" >{{Level}}</p>
            </div>
            <div *ngIf="showFinal==true" class="col-2 mr-1" style="font-size: 1.2rem;background-color:#0cc27e;text-align: center ;border-radius: 10px;float: left">
                <p class="mt-2" style="color: white">مجموع امتیاز:  {{finalScore}} </p>
            </div>
        </div>
        <!--پایان ردیف 5-->






    </div>
    <div class="row">
        <div class="col-12 mt-2" style="padding: 0">
            <div class="header">

                <h5 >گروه اطلاعات راند مددکاری اجتماعی</h5>
            </div>
        </div>
    </div>
    <div class="row border">
        <!--ردیف اول -->
        <div class="col-12  d-flex my-1" >
            <div class="col-1 my-1">
                <label for="" class="mt-1 text-bold-700">  تاریخ: </label>
            </div>
            <div class="col-2 my-1">
                <p class="text-bold-700">{{today}}</p>
            </div>

            <div class="col-2 my-1">
                <label for="" class="mt-1 text-bold-700">ساعت   :</label>
            </div>
            <div class="col-2 my-1">
                <p class="text-bold-700">{{finalTime}}</p>
            </div>
        </div>
        <!--ردیف مخفی شده-->
        <div class="col-12 " *ngIf="ShowRand===true">
            <div class="col-12 border"  style="direction: rtl;text-align: right">
                <p>هیچ راندی ثبت نشده است.</p>
            </div>

        </div>
        <div class="col-12  border"  *ngFor="let container of containers;let y = index"   >
                <div  [ngClass]="{'gray':container.active}"      >
                    <div class="col-12 d-flex my-1"    >

                        <div class="col-1 my-1">
                            <label for="" class="mt-1 text-bold-700">  شبکه حمایتی  :</label>
                        </div>
                        <div  class="col-2 my-1  " style="text-align: right">
                            <p class="text-bold-700" *ngFor="let i of dataRand;let index=index "  >
                                <span *ngIf="y==index"><span *ngFor="let a of i['caseWorkerSupportNetwork']"><span *ngFor="let r of supportNetwork">
                                    <span *ngIf="a.supportNetwork===r.code">{{r.value}},</span>

                                </span></span></span>
                            </p>
                        </div>

                        <div class="col-1 my-1">
                            <label for="" class="mt-1 text-bold-700">     شرایط روانی:

                            </label>
                        </div>
                        <div class="col-2 my-1">
                            <div class="" style="text-align: right">
                                <p class="text-bold-700"  *ngFor="let i of dataRand;let index=index" >
                                <span *ngIf="index==y" >
                                    <span *ngIf="i.psychologicalStatus=='1'">
                                        نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.psychologicalStatus=='2'">
                                            عدم نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.psychologicalStatus=='3'">
                                          ارزیابی نشده
                                    </span>

                                </span>
                                </p>
                            </div>
                        </div>

                        <div class="col-2 my-1 " style="text-align: right">
                            <label for="" class="mt-1 text-bold-700">
                                وضعیت اقتصادی   :</label>
                        </div>
                        <div class="col-2 my-1" style="text-align: right;" >
                            <p class="text-bold-700" *ngFor="let i of dataRand;let index=index">

                                <span *ngIf="index==y" >
                                    <span *ngIf="i.economicStatus=='1'">
                                        نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.economicStatus=='2'">
                                            عدم نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.economicStatus=='3'">
                                          ارزیابی نشده
                                    </span>

                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="col-12  d-flex my-1" >
                        <div class="col-1 my-1" style="direction: rtl;text-align: right;padding: 0">
                            <label for="" class="mt-1 text-bold-700">گروه های پرخطر:</label>
                        </div>
                        <div class="col-2 d-flex my-1  " style="text-align: right;direction: rtl;padding: 0">
                            <!--<p class="text-bold-700" >-->
                                <!--{{array}}-->
                            <!--</p>-->
                            <p class="text-bold-700" *ngFor="let i of dataRand;let index=index "   >

                                 <span *ngIf="y==index"><span *ngFor="let a of i['caseWorkerHighRiskGroupForRand']"><span *ngFor="let r of dangerGroups">
                                    <span *ngIf="a.highRiskGroup===r.code">{{r.value}},</span>

                                </span></span></span>
                            </p>
                        </div>
                        <div class="col-1  my-1" style="direction: rtl;text-align: right">
                            <label for="" class="mt-1 text-bold-700">     مسایل قانونی
                                :
                            </label>
                        </div>
                        <div class="col-2 my-1">
                            <div class="" style="text-align: right">
                                <p class="text-bold-700"  *ngFor="let i of dataRand;let index=index" >
                                <span *ngIf="index==y" >
                                    <span *ngIf="i.legalIssues=='1'">
                                        نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.legalIssues=='2'">
                                            عدم نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.legalIssues=='3'">
                                          ارزیابی نشده
                                    </span>

                                </span>
                                </p>
                            </div>
                        </div>
                        <div class="col-2 my-1" style="direction: rtl;text-align: right">
                            <label for="" class="mt-1 text-bold-700">
                                اختلال در عملکرد اجتماعی    :</label>
                        </div>
                        <div class="col-2 my-1" style="text-align: right">
                            <p class="text-bold-700"  *ngFor="let i of dataRand;let index=index" >
                                <span *ngIf="index==y" >
                                    <span *ngIf="i.socialDysfunction=='1'">
                                        نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.socialDysfunction=='2'">
                                            عدم نیاز به مداخله
                                    </span>
                                        <span *ngIf="i.socialDysfunction=='3'">
                                          ارزیابی نشده
                                    </span>

                                </span>
                            </p>
                        </div>
                    </div>
                    <div class="col-12 d-flex">
                        <div class="col-2" style="direction: rtl;text-align: right">
                            <p style="color: black;" class="text-bold-700">
                                شرح مختصر :
                            </p>

                        </div>
                        <div class="col-10" style="text-align: right;direction: rtl">
                            <p class="text-bold-700" *ngFor="let i of dataRand;let index=index" >
                                <span *ngIf="y==index" >{{i.fewDescription}}</span>
                            </p>
                        </div>
                    </div>
                    <div class="col-12 my-1 d-flex"  >
                        <div class="col-2" style="direction: rtl;text-align: right">
                            <p style="color: black;" class="text-bold-700">
                                تاریخ ثبت /ویرایش
                            </p>

                        </div>
                        <div class="col-10" style="text-align: right;direction: rtl">
                            <p class="text-bold-700">
                                {{today}}
                            </p>
                        </div>
                    </div>
                </div>
            <hr>
            <div class="col-12" *ngFor="let i of dataRand;let in=index">
                <button class="btn btn-danger ml-1" *ngIf="y==in" style="color: white!important;font-family: iransans;font-size: 1.4rem" [disabled]="disabledElem===true" (click)="grayClass(container)">ابطال</button>
                <button class="btn btn-primary" style="color: white!important;font-family: iransans;font-size: 1.4rem" (click)="edit(in,content2)" [disabled]="disabledElem===true" *ngIf="y==in">ویرایش</button>
            </div>
        </div>
        <!-- پایان ردیف مخفی شده-->
        <!--Add button-->
        <div class="col-12">
            <button style="background-color: #0A52E1;border-radius: 50%;" [disabled]="disabledElem===true" (click)="openRandModal(content)"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" style="color: white" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg></button>
        </div>
        <!--شرح نهای ارزیابی -->
        <div class="col-12 my-2 " style="text-align: right">
            <div class="col-6">
                <p for="" class="mt-1 text-bold-700" style="color: black">شرح نهایی ارزیابی :</p>
            </div>
            <textarea name="" [disabled]="disabledElem===true" class="form-control" id="" cols="30" rows="5" [(ngModel)]="FinalExplain"></textarea>
        </div>
    </div>
    <div class="row">
        <div class="col-12 mt-2" style="padding: 0">
            <div class="header">

                <h5 >گروه اطلاعات مداخله</h5>
            </div>
        </div>
    </div>
    <div class="row border">



        <!--شرح مداخله-->
        <div class="col-12 my-2 " style="text-align: right">
            <div class="col-6">
                <p for="" class="mt-1 text-bold-700" style="color: black">شرح  مداخله :</p>
            </div>
            <textarea [disabled]="disabledElem===true" name="" [(ngModel)]="interventionDescription" class="form-control" id="" cols="30" rows="5"></textarea>
        </div>
        <!--ایجاد مداخله-->
        <div class="col-12  border" *ngFor="let container of InterventionContainer;let myIndex=index;" >
            <div class="col-12 d-flex">

                <!--<div class="col-7 my-1" style="text-align: right">-->
                    <!--<p for="" class="mt-1 text-bold-700" style="color: black">عنوان  مداخله :</p>-->
                    <!--<div class="col-12">-->
                        <!--&lt;!&ndash;<input type="text" class="form-control dangerInput" value="{{dangerInput}}" (click)="showdangerList()" >&ndash;&gt;-->
                        <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" >-->
                            <!--<div class="col-10" (click)="ShowInterventionList(myIndex)">-->
                                <!--<div >-->

                                        <!--<span   class="px-1 " *ngFor="let i of intervationArray;let y =index" >-->
                                            <!--<span *ngIf="numberofarray == myIndex +1" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                                               <!--{{i}}-->
                                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeInterventionItem(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                                      <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                                      <!--</svg>-->
                                            <!--</span>-->



                                      <!--</span>-->


                                <!--</div>-->

                            <!--</div>-->
                            <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeInterventionAll()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                            <!--</div>-->



                        <!--</div>-->

                        <!--<div class="col-12 d-flex" style="padding:0"*ngIf="ShowIntervention">-->
                            <!--<div class="col-12" style="padding: 0">-->
                                <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                    <!--<ul *ngIf="numberofarray == myIndex +1" class="list-group" style="direction: rtl;text-align: right" >-->
                                        <!--<li class="list-group-item" style="cursor: pointer" (click)="getIntervention(i.value,i.code,myIndex)" *ngFor="let i of Intervention;let index=index">{{i.value}}</li>-->
                                    <!--</ul>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="col-1  position-relative" >-->
                    <!--<button class="d-flex align-content-center position-absolute"   style="background-color: red;border-radius: 50%;top: 50%" (click)="removeIntervention(myIndex)">-->
                        <!--<svg xmlns="http://www.w3.org/2000/svg" width="30"style="color: white" height="30" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">-->
                            <!--<path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>-->
                            <!--<path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>-->
                        <!--</svg>-->
                    <!--</button>-->
                <!--</div>-->
                <div class="col-7" style="text-align: right">

                    <label for="" class="text-bold-700">اقدامات:</label>
                    <p *ngFor="let i of InterventionArray;let y=index "><span *ngIf="y===myIndex"><span *ngFor="let a of i['caseWorkerInterventionTitle']"><span *ngFor="let r of Intervention">
                        <span *ngIf="a.interventionTitle===r.code">{{r.value}},</span>
                    </span></span></span></p>

                </div>

            </div>
            <div class="col-12 d-flex my-2 " style="text-align: right">
                <div class="col-6 d-flex" >
                    شرح  مداخله :

                    <p for="" class="mt-1 text-bold-700" style="color: black" *ngFor="let i of InterventionArray;let y=index">


                        <span *ngIf="y===myIndex">{{i.interventionDescription}}</span>
                    </p>
                    <span >

                </span>
                </div>
                <div class="col-6 d-flex">
                    تاریخ:
                    <p *ngFor="let i of InterventionArray;let y=index ">
                        <span *ngIf="y===myIndex" style="margin-right: 10px;margin-bottom: 5px" class="text-bold-700">{{i.interventionDate}}</span>

                    </p>
                </div>

            </div>
            <div class="col-12" >
                <button class="btn btn-primary" style="color: white!important;font-family: iransans;font-size: 1.4rem" (click)="editIntervation(myIndex,content4)" [disabled]="disabledElem===true" >ویرایش</button>

            </div>



        </div >
        <!--Add button-->
        <div class="col-12">
            <button style="background-color: #0A52E1;border-radius: 50%;" [disabled]="disabledElem===true" (click)="addIntervention(content3)"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" style="color: white" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg></button>
        </div>
        <!--نتیجه نهایی مداخله-->
        <div class="col-12 my-1 d-flex">
            <div class="col-1 mt-1" style="text-align: right;padding: 0">
                <label for="" class="mt-1 text-bold-700">  نتیجه نهایی مداخله</label>

            </div>

            <div class="col-4 mt-1">
                <input [disabled]="disabledElem===true"  type="text" value="{{FinalInterventionSelect}}" (click)="showFinalInterventionList()" class="form-control" style="border-left: 1px solid gray" >
                <div class="col-12" *ngIf="showFinalIntervention"  style="max-height: 300px;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >
                    <ul class="list-group" style="direction: rtl;text-align: right"  >
                        <li class="list-group-item">انتخاب کنید</li>
                        <li class="list-group-item"  style="cursor: pointer" (click)="getFinalIntervention(i.id,i.value)"  *ngFor="let i of FinalIntervention" >{{i.value}}</li>
                    </ul>
                </div>
            </div>
            <!--اقدامات ------------------------------------------------------------------------------------------------------------------------------>
            <!--<div class="col-5">-->
                <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" *ngIf="FinalInterventionID==='1'" >-->
                <!--<span class="mt-1 text-bold-700" *ngIf="eghdamatShow" >{{eghdamat}}</span>-->
                <!--<div class="col-10" (click)="ShowFinalInterventionFirstList()">-->
                            <!--<span class="px-1 " *ngFor="let i of FinalInterventionFirstArray;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i.value}}-->
                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeFinalInterventionFirst(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                <!--</div>-->
                <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeFinalInterventionFirstAll()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                <!--</div>-->
            <!--</div>-->
                <!--<div class="col-12" *ngIf="ShowFinalInterventionFirst"   style="max-height: 300px;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                    <!--<ul class="list-group" style="direction: rtl;text-align: right"  >-->
                        <!--<li class="list-group-item"  style="cursor: pointer" (click)="getFinalInterventionFirst(i.id)"   *ngFor="let i of FinalInterventionFirst" >{{i.value}}</li>-->
                    <!--</ul>-->
                <!--</div>-->

                <!--&lt;!&ndash;دوم-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&ndash;&gt;-->

                <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" *ngIf="FinalInterventionID==='2'" >-->
                    <!--<span class="mt-1 text-bold-700" *ngIf="eghdamatShow" >{{eghdamat}}</span>-->
                    <!--<div class="col-10" (click)="ShowFinalInterventionSecondList()">-->
                            <!--<span class="px-1 " *ngFor="let i of FinalInterventionSecondArray;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i.value}}-->
                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeFinalInterventionsecond(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                    <!--</div>-->
                    <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeFinalInterventionSecondAll()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="col-12" *ngIf="ShowFinalInterventionSecond"   style="max-height: 300px;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                    <!--<ul class="list-group" style="direction: rtl;text-align: right"  >-->
                        <!--<li class="list-group-item"  style="cursor: pointer" (click)="getFinalInterventionsecond(i.id)"   *ngFor="let i of FinalInterventionSecond" >{{i.value}}</li>-->
                    <!--</ul>-->
                <!--</div>-->
                <!--&lt;!&ndash;سو-&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;م&ndash;&gt;-->
                <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" *ngIf="FinalInterventionID==='3'" >-->
                    <!--<span class="mt-1 text-bold-700" *ngIf="eghdamatShow" >{{eghdamat}}</span>-->
                    <!--<div class="col-10" (click)="ShowFinalInterventionThirdList()">-->
                            <!--<span class="px-1 " *ngFor="let i of FinalInterventionThirdArray;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i.value}}-->
                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeFinalInterventionThird(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                    <!--</div>-->
                    <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeFinalInterventionThirdAll()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<div class="col-12" *ngIf="ShowFinalInterventionThird"   style="max-height: 300px;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                    <!--<ul class="list-group" style="direction: rtl;text-align: right"  >-->
                        <!--<li class="list-group-item"  style="cursor: pointer" (click)="getFinalInterventionThird(i.id)"   *ngFor="let i of FinalInterventionThird" >{{i.value}}</li>-->
                    <!--</ul>-->
                <!--</div>-->
                <!--&lt;!&ndash;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;پایان نتیجه نهایی&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&ndash;&gt;-->
            <!--</div>-->
            <ng-select
                    [disabled]="disabledElem===true"
                    class="w-100"
                    *ngIf="ShowFinalInterventionFirst==true"
                    [items]="FinalInterventionFirst"
                    style="font-family: iransans"
                    bindLabel="value"
                    [multiple]="true"
                    placeholder="اقدامات"
                    [hideSelected]="true"
                    [(ngModel)]="FinalArray">
            </ng-select>
            <ng-select
                    [disabled]="disabledElem===true"
                    class="w-100"
                    *ngIf="ShowFinalInterventionSecond==true"
                    [items]="FinalInterventionSecond"
                    style="font-family: iransans"
                    bindLabel="value"
                    [multiple]="true"
                    placeholder="اقدامات"
                    [hideSelected]="true"
                    [(ngModel)]="FinalArray">
            </ng-select>
            <ng-select
                    [disabled]="disabledElem===true"
                    class="w-100"
                    *ngIf="ShowFinalInterventionThird==true"
                    [items]="FinalInterventionThird"
                       style="font-family: iransans"
                       bindLabel="value"
                       [multiple]="true"
                       placeholder="اقدامات"
                       [hideSelected]="true"
                       [(ngModel)]="FinalArray">
            </ng-select>


        </div>


    </div>

    <div class="row">
        <div class="col-12 mt-2" style="padding: 0">
            <div class="header">
                <h5 >گروه اطلاعات ترخیص</h5>
            </div>
        </div>
    </div>
    <div class="row border">
    <div class="col-12 my-1 d-flex">
        <div class="col-4" style="text-align: right">
            <p class="text-bold-700" style="color: black">آیا بیمار حمایت اقتصادی نیاز دارد </p>
        </div>
        <div class="col-2" style="text-align: right;direction: rtl">
            <button class="btn " [disabled]="disabledElem===true"  [ngClass]="{'activeBtn':hasSuppoortOK===true}" (click)="hasSuppoort()">دارد </button>
            <button [disabled]="disabledElem===true" [ngClass]="{'activeBtn':hasSuppoortOK===false}" class="btn " (click)="hasNotSuppoort()">ندارد  </button>
        </div>
    </div>
        <div class="col-12 my-1 d-flex" *ngIf="hasSuppoortOK===true">
            <div class="col-4" style="text-align: right">
                <p class="text-bold-700" style="color: black">درصد اولیه حمایت اقتصادی بر اساس گروه های هدف</p>
            </div>
            <div class="col-2" style="text-align: right;direction: rtl">
                <p class="text-bold-700">{{FirstPrsnet}}</p>
            </div>
        </div>
        <div class="col-12 my-1 d-flex" *ngIf="hasSuppoortOK===true">
            <div class="col-4" style="text-align: right">
                <p class="text-bold-700" style="color: black">اعمال نظر مددکار اجتماعی (30±)</p>
            </div>
            <div class="col-2" style="text-align: right;direction: rtl">
                <input [disabled]="disabledElem===true" type="number" placeholder="درصد"class="form-control" max="30" min="-30"  [(ngModel)]="HelpPersent" (ngModelChange)="Computing()" >
                </div>
        </div>
        <div>

        </div>
        <div class="col-12 my-1 d-flex" *ngIf="HelpPersent>0 ||HelpPersent<0">
            <div class="col-4" style="text-align: right">
                <p class="text-bold-700" style="color: black">شرح اعمال نظر مددکار   </p>
            </div>
        </div>
        <div class="col-12 my-1">
            <textarea [disabled]="disabledElem===true" class="form-control" [(ngModel)]="expalinIDea"  *ngIf="HelpPersent>0 ||HelpPersent<0 || showExplain===true " name="" id="" cols="30" rows="3"></textarea>
        </div>
        <div class="col-12 my-1 d-flex" *ngIf="hasSuppoortOK===true">
            <div class="col-4" style="text-align: right">
                <p class="text-bold-700" style="color: black">درصد نهایی حمایت اقتصادی</p>
            </div>
            <div class="col-2" style="text-align: right;direction: rtl">
                <p class="text-bold-700">{{FinallParsent}}</p>
            </div>
        </div>
        <div class="col-12 my-1 d-flex" *ngIf="hasSuppoortOK===true" >
            <div class="col-4" style="text-align: right" >
                <p class="text-bold-700" style="color: black">منبع تامین حمایت اقتصادی</p>
            </div>
        </div>

        <div class="col-12 my-1 border" *ngIf="hasSuppoortOK===true" >
            <div class="col-12  my-1 d-flex">
                <div class="col-3" style="text-align: right">
                    <p class="text-bold-700" style="color: black">آورده وزارت بهداشت (ردیف نیازمندان)</p>
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="behdashtPersentDisable===true" placeholder="درصد"class="form-control" max="100" min="0" [(ngModel)]="behdashPersent" (change)="getbehdashPersent()" >
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="behdashtVAlueDisable===true" (change)="getbehdashVAlue()" min="0" placeholder="مبلغ"class="form-control" [(ngModel)]="behdashtMoney"  >
                </div>
                <div class="col-1" style="text-align: right">
                    <p class="text-bold-700" style="color: black">ریال</p>

                </div>
            </div>
            <div class="col-12  my-1 d-flex">
                <div class="col-3" style="text-align: right">
                    <p class="text-bold-700" style="color: black">آورده نهادهای حمایتی دولتی</p>
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="DolatiPrsentDisable===true" [(ngModel)]="dolatiPersent" (change)="getdolatiPersent()"  placeholder="درصد"class="form-control" max="100" min="0">
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="DolatiVAlueDisable===true" [(ngModel)]="dolatiMoney" (change)="getdolatiVAlue()" placeholder="مبلغ"class="form-control" >
                </div>
                <div class="col-1" style="text-align: right">
                    <p class="text-bold-700" style="color: black">ریال</p>

                </div>
            </div>
            <div class="col-12  my-1 d-flex">
                <div class="col-3" style="text-align: right">
                    <p class="text-bold-700" style="color: black">آورده نهادهای حمایتی غیردولتی</p>
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="notDolatiValidDisable===true" [(ngModel)]="notDolatiPersent" (change)="getnotDolatiPersent()" placeholder="درصد"class="form-control" max="100" min="0">
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="notDolatiPersentDisable===true" [(ngModel)]="notDolatiMoney" (change)="getnotDolatiVAlue()" placeholder="مبلغ"class="form-control">
                </div>
                <div class="col-1" style="text-align: right">
                    <p class="text-bold-700" style="color: black">ریال</p>

                </div>
            </div>
            <div class="col-12  my-1 d-flex">
                <div class="col-3" style="text-align: right">
                    <p class="text-bold-700" style="color: black">آورده موسسه خیریه بیمارستانی</p>
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number" [disabled]="getKheyrieVAlueDisable===true"  (change)="getKheyriePrsent()" [(ngModel)]="kheyriePersent" placeholder="درصد"class="form-control" max="100" min="0">
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" type="number"  (change)="getKheyrieMoney()"  [disabled]="getKheyriePrsentDisable===true" [(ngModel)]="kheyrieMoney" placeholder="مبلغ"class="form-control">
                </div>
                <div class="col-1" style="text-align: right">
                    <p class="text-bold-700" style="color: black">ریال</p>

                </div>
            </div>
            <div class="col-12  my-1 d-flex">
                <div class="col-3" style="text-align: right">
                    <p class="text-bold-700" style="color: black" >آورده خیرین</p>
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" [(ngModel)]="nikPersent" [disabled]="nikPrsentDisable===true"  (change)="getnikPresent($event)" type="number" placeholder="درصد"class="form-control" max="100" min="0">
                </div>
                <div class="col-2" style="text-align: right;direction: rtl">
                    <input [disabled]="disabledElem===true" [disabled]="nikValueDisable===true" (change)="getnikMoney()" [(ngModel)]="nikMoney"  type="number" placeholder="مبلغ"class="form-control">
                </div>
                <div class="col-1" style="text-align: right">
                    <p class="text-bold-700" style="color: black">ریال</p>

                </div>
            </div>

            </div>
        <div class="col-12 mt-2 d-flex">
            <div class="col-4" style="text-align: right">
                <p class="text-bold-700" style="color: black">توصیه های پس از ترخیص</p>
            </div>
        </div>
        <div class="col-12 mt-1 mb-2">
            <textarea [disabled]="disabledElem===true" name="" class="form-control" id="" cols="30" rows="3" [(ngModel)]="suggestionAfter"></textarea>
        </div>
        <div class="col-12 my-1 d-flex">
            <div class="col-3" style="text-align: right">
                <p class="text-bold-700" style="color: black">نیاز به پیگیری پس از ترخیص دارد؟</p>
            </div>
            <div class="col-3" style="text-align: right">
                <button class="btn btn-outline-primary" [disabled]="disabledElem===true"   [ngClass]="{'activeBtn':hasFallowUp===true}" (click)="isHasFaloowUp()">دارد </button>
                <button class="btn btn-outline-primary" [disabled]="disabledElem===true" [ngClass]="{'activeBtn':hasFallowUp===false}"  (click)="HasnotFallowUp()">ندارد </button>
            </div>
        </div>
        <div class="col-12 my-1" *ngIf="hasFallowUp">
            <div class="col-3" style="text-align: right">
                <p class="text-bold-700" style="color: black">برنامه پیگیری</p>
            </div>
            <div class="col-12" style="text-align: right">
                <textarea [disabled]="disabledElem===true" name="" class="form-control" id="" cols="30" rows="3" [(ngModel)]="FallowProgram"></textarea>
            </div>


        </div>
        </div>
    <div class="row border">
        <div class="col-12 my-1">
            <button (click)="save()" *ngIf="disabledElem===false" [disabled]="calcvalid===false" type="button"  class="btn btn-lg btn-success" style="color: white!important;" >
                ذخیره فرم

            </button>
            <button (click)="editCaseWorker()" *ngIf="disabledElem===false " [disabled]="calcvalid===false" type="button"  class="btn btn-lg btn-success" style="color: white!important;" >
ثبت تغییرات

            </button>
            <button class="btn btn-lg btn-outline-danger" *ngIf="disabledElem===false" (click)="confirmCaseWorker()">
تایید نهای و بستن فرم

            </button>
            <button type="button" class="btn btn-lg " style="background-color: #0a52e1;color: white" printSectionId="print-section" [printStyle]= "{div: {'direction' : 'rtl'}}" [useExistingCss]="true" ngxPrint  >پرینت </button>
        </div>

    </div>
    </div>




<div class="container mt-1" *ngIf="info" id="print-section" style="font-size: 16px;display: none">
    <div class="col-12">
        <h4 class="text-center">وزارت بهداشت، درمان و آموزش پزشكي
        </h4>
        <h5 class="text-center mt-1">
            Ministry of Health & Medical Education
        </h5>
    </div>
    <div class="d-flex justify-content-center">
        <div  class="d-flex justify-content-between col-6">
            <h5>
                دانشگاه علوم پزشکی :
            </h5>
            <span *ngIf="hospital">
            {{hospital['universityName']}}
        </span>
            <h5>
                :University of Medical Science
            </h5>
        </div>
    </div>
    <div class="d-flex justify-content-center">
        <div  class="d-flex justify-content-between col-6">
            <h5>
                مرکز پزشكي آموزشی درمانی  :
            </h5>
            <span *ngIf="hospital">
            {{hospital['hospitalName']}}
        </span>
            <h5>
                :Medical Center
            </h5>
        </div>
    </div>
    <div class="col-12 d-flex mt-1" style="padding: 0;">
        <div class="col-3 border d-flex justify-content-between ">
            <p class="text-bold-700">شماره پرونده:</p>
            <p></p>
            <p class="text-bold-700">:Record No</p>
        </div>
        <div class="col-7">
            <h5 style="text-align: right;">
                CASE MANAGEMENT SHEET & SOCIAL WORK ASSESSMENT
            </h5>
        </div>
    </div>
    <div class="col-12  " style="padding: 0;border: 1px solid;">
        <div class="col-12 d-flex " style="padding: 0;font-size: 16px">
            <div class="col-6 d-flex justify-content-between " style="padding: 0;">
                <div class="col-6 " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-around">
                        <p class="text-bold-700">نام خانوادگی :</p>
                        <p class="text-bold-700"> :Family Name</p>
                    </div>

                    <div>
                        <p style="font-size: 16px" class="text-center text-bold-700">{{info['lastName']}}</p>
                    </div>
                </div>
                <div class="col-6" style="border-left: 1px solid black;padding: 0;">
                    <div class=" d-flex justify-content-around">
                        <p class="text-bold-700">نام  :</p>
                        <p class="text-bold-700"> : Name</p>
                    </div>
                    <div>
                        <p class="text-bold-700 text-center " style="font-size: 16px">{{info['firstName']}}</p>

                    </div>

                </div>


            </div>
            <div class="col-6 d-flex"  style="padding: 0;">
                <div class="col-4 " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-around">
                        <p class="text-bold-700">جنس  :</p>

                        <p class="text-bold-700"> :Sex </p>
                    </div>
                    <div>
                        <p class="text-bold-700 text-center" style="font-size: 16px"> {{info['genderName']}}</p>
                    </div>

                </div>
                <div class="col-8" style="padding: 0;">
                    <div class="col-12 d-flex justify-content-around" style="flex-wrap: nowrap;padding: 0;">
                        <p class="text-bold-700">تاریخ مراجعه  :</p>
                        <p>{{info['encounterDate']}}</p>
                        <p class="text-bold-700"> : Date of Admission</p>
                    </div>
                    <div class="col-12 d-flex justify-content-around" style="padding: 0;">
                        <p class="text-bold-700">ساعت مراجعه  :</p>
                        <p>{{info['encounterTime']}}</p>
                        <p class="text-bold-700"> : Time of Admission</p>
                    </div>

                </div>
            </div>

        </div>
        <div class="col-12 d-flex" style="padding: 0;border-top: 1px solid; ">
            <div class="col-6 d-flex justify-content-around" style="padding: 0;border-left: 1px solid;">
                <p class="text-bold-700">آدرس: </p>
                <p class="text-bold-700">{{info['address']}}</p>
                <p class="text-bold-700">:Address</p>
            </div>
            <div class="col-6 d-flex " style="padding: 0;border-left: 1px solid;">
                <div class="col-6 d-flex justify-content-between" style="border-left:1px solid ;">
                    <p class="text-bold-700">کدپذیرش: </p>
                    <p class="text-bold-700"> {{info['encounterID']}} </p>
                    <p class="text-bold-700"> :ADM Code</p>
                </div>
                <div class="col-6 d-flex justify-content-between">
                    <p class="text-bold-700">تلفن: </p>
                    <p class="text-bold-700"> {{info['telNo1']}} </p>
                    <p class="text-bold-700"> :Tel</p>
                </div>
            </div>
        </div>
        <div class="col-12 d-flex " style="padding: 0;border-top:1px solid ;">
            <div class="col-6 d-flex justify-content-between " style="padding: 0;">

                <div class="col-6  " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-between">
                        <p class="text-bold-700">کدملی/کدآزمایش   :</p>
                        <p class="text-bold-700"> National/segment Code: </p>
                    </div>
                    <div>
                        <p style="font-size: 16px;text-align: center" class="text-bold-700">{{info['nationalCode']}}</p>

                    </div>

                </div>
                <div class="col-6 " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-around">
                        <p class="text-bold-700">تاریخ تولد   :</p><br>

                        <p class="text-bold-700"> : Date of Birth</p>
                    </div>
                    <div>
                        <p class="text-bold-700" style="text-align: center;font-size: 16px">{{info['birthDate']}} </p>

                    </div>

                </div>

            </div>
            <div class="col-6 d-flex"  style="padding: 0;">
                <div class="col-6  " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-between">
                        <p class="text-bold-700">نام و نام خانوادگی پدر   :</p>
                        <p class="text-bold-700"> Father's Name &
                            : Family name
                        </p>
                    </div>
                    <div>
                        <p class="text-bold-700" style="text-align: center;font-size: 16px">{{info['fatherName']}} </p>

                    </div>

                </div>
                <div class="col-6 " style="padding: 0;">
                    <div class="d-flex justify-content-between">
                        <p class="text-bold-700">نام و نام خانوادگی مادر   :</p>
                        <p class="text-bold-700"> Mather's Name &
                            :  Family name:
                        </p>

                    </div>
                    <div>
                        <p  class="text-bold-700" style="font-size: 16px;text-align: center" >{{info['motherFirstName']}}  </p>

                    </div>


                </div>
            </div>

        </div>
        <div class="col-12 d-flex " style="padding: 0;border-top:1px solid ;">
            <div class="col-6 d-flex justify-content-between " style="padding: 0;">
                <div class="col-6 " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex  justify-content-around">
                        <p class="text-bold-700">وضعیت تاهل  :</p>
                        <p class="text-bold-700">Marital Status: </p>
                    </div>
                    <div >
                        <p class="text-bold-700 text-center" style="font-size: 16px">{{maritalValue}} </p>

                    </div>

                </div>
                <div class="col-6 " style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-around">
                        <p class="text-bold-700"> ملیت    :</p>
                        <p class="text-bold-700"> : Nationality  </p>
                    </div>
                    <div>
                        <p class="text-bold-700 text-center" style="font-size: 16px" >{{info['countryName']}} </p>

                    </div>

                </div>

            </div>
            <div class="col-6 d-flex"  style="padding: 0;">
                <div class="col-6" style="border-left: 1px solid black;padding: 0;">
                    <div class="d-flex justify-content-around">
                        <div>
                            <p class="text-bold-700"> همراه بیمار      :</p>
                        </div>
                        <div class="mr-1">
                            <label for="">دارد</label>
                            <input type="checkbox" class="mt-1 mr-1" [checked]="hasRelative===true">
                            <!--<input class="mt-1 mr-1" type="checkbox" name="" id="" [checked]="hasRelative===true" style="width: 15px;height: 15px">-->
                            <label class="mr-1" for="">ندارد</label>
                            <!--<mat-checkbox class="mt-1 mr-1" [checked]="hasRelative===false" ></mat-checkbox>-->
                            <input type="checkbox" class="mt-1 mr-1" [checked]="hasRelative===false">

                            <!--<input class="mt-1" type="checkbox" [checked]="hasRelative===false" style="width: 15px;height:15px" name="" id="">-->

                        </div>

                    </div>
                    <div class="d-flex justify-content-between">
                        <div>
                            <p  class="text-bold-700 " style="padding: 0">  Patient Companion      :</p>
                        </div>
                        <div class="mr-1">
                            <label for="" style="margin-left: 20px;">Yes</label>
                            <label class="mr-1" for="">No</label>
                        </div>
                    </div>


                    <div class="d-flex justify-content-between">
                        <p class="text-bold-700">تلفن </p>
                        <p class="text-bold-700">{{relatedTel}}</p>
                        <p class="text-bold-700">Tel</p>

                    </div>


                </div>
                <div class="col-6 d-flex justify-content-between" style="padding: 0;">
                    <p class="text-bold-700">نام و نام خانوادگی همراه   :</p>
                    <p class="mt-5 text-bold-700 ">{{relativeName}}   </p>
                    <p class="text-bold-700"> Patient Companion
                        Name & Family
                        Name:
                    </p>

                </div>
            </div>

        </div>
        <div class="col-12 d-flex " style="padding: 0;border-top:1px solid ;">
            <div class="col-6 d-flex justify-content-around " style="padding: 0;">
                <div class="col-6 d-flex " style="border-left: 1px solid black;padding: 0;">
                    <p class="text-bold-700" style="text-align: right;">سطح تحصیلات :</p>
                    <p class="text-bold-700" *ngFor="let i of education"><span *ngIf="i.code===educationCode">{{i.value}}</span>  </p>
                    <p class="text-bold-700"> :Education Level </p>
                </div>
                <div class="col-6 d-flex justify-content-around" style="border-left: 1px solid black;padding: 0;">
                    <p class="text-bold-700"> تعداد فرزندان    :</p><br>

                    <p class="text-bold-700" style="font-family: iransans">{{children}}</p>
                    <p class="text-bold-700"> :   No of Children</p>
                </div>

            </div>
            <div class="col-6 d-flex"  style="padding: 0;">
                <div class="col-6 d-flex justify-content-around" style="border-left: 1px solid black;padding: 0;">
                    <p class="text-bold-700"> شغل      :</p>
                    <p class="text-bold-700" *ngFor="let i of Jobs"><span *ngIf="JObsCode===i.code">{{i.value}}</span> </p>
                    <p class="text-bold-700">:Job

                    </p>
                    <p class="text-bold-700">بخش     :</p>
                    <p>{{info['locationName']}}  </p>
                    <p class="text-bold-700"> :Ward

                    </p>

                </div>
                <div class="col-6 d-flex justify-content-between" style="padding: 0;">
                    <p class="text-bold-700"> پزشک معالج:</p>
                    <p>{{info['pracName']}} </p>
                    <p class="text-bold-700">
                        :Attending Physician

                    </p>
                </div>
            </div>

        </div>
        <div class="col-12" style="padding: 0;border-top: 2px solid ;">
            <div class="col-12 d-flex justify-content-between" style="padding: 0;">
                <p class="text-bold-700" style="margin-right: 10px" >
                    بیمه پایه:
                </p>
                <p class="text-bold-700"> {{info['insurerName1']}}</p>

                <p class="text-bold-700" style="margin-left: 10px">
                    :Basic Insurance
                </p>
            </div>

        </div>
        <div class="col-12 d-flex justify-content-between mt-2" style="padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px" >
                بیمه تکمیلی:
            </p>
            <P class="text-bold-700">
                {{info['insurerName2']}}
            </P>
            <p class="text-bold-700" style="margin-left: 10px">
                Compllemantary Insurance
            </p>
        </div>
        <div class="col-12" style="padding: 0;border-top: 2px solid ;">
            <div class="col-12 d-flex justify-content-between" style="padding: 0;">
                <p class="text-bold-700" style="margin-right: 10px" >
                    نحوه ورود/ارجاع به واحد مدد کاری اجتماعی :
                </p>
                <p class="text-bold-700" style="margin-left: 10px">
                    :Arrival/Referal Type
                </p>
            </div>

        </div>
        <div class="col-12 p-2 mt-2 " style="padding: 0; text-align: right;">
            <label class="text-bold-700" for="">خود ارجاع  </label>
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.1'"></mat-checkbox>-->
            <input type="checkbox" name="" id="" [checked]="interanceCode=='1.9.1.1'">
            <label class="text-bold-700" for="" style="margin-right: 20px;" > راند   </label>
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.2'"></mat-checkbox>-->

            <input type="checkbox" name="" id=""[checked]="interanceCode=='1.9.1.2'">
            <label class="text-bold-700" for="" style="margin-right: 20px;"  >تریاژ</label>
            <input type="checkbox" name="" id=""[checked]="interanceCode=='1.9.1.3'">
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.3'"></mat-checkbox>-->

            <label class="text-bold-700" class="text-bold-700" for="" style="margin-right: 20px;" >  ارجاع از کادر درمان  </label>
            <input type="checkbox" name="" id=""[checked]="interanceCode=='1.9.1.4'">
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.4'"></mat-checkbox>-->
            <label class="text-bold-700" for="" style="margin-right: 20px;" > ارجاع از سازمان های دولتی  </label>
            <input type="checkbox" name="" id=""[checked]="interanceCode=='1.9.1.5'">
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.5'"></mat-checkbox>-->

            <label  class="text-bold-700"for=""  style="margin-right: 20px;"> ارجاع از سازمان های غیر دولتی  </label>
            <input type="checkbox" name="" id=""[checked]="interanceCode=='1.9.1.6'">
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.6'"></mat-checkbox>-->
            <label class="text-bold-700" for="" style="margin-right: 20px;"  >سایر    </label>
            <input type="checkbox" name="" id=""[checked]="interanceCode=='1.9.1.7'">
            <!--<mat-checkbox style="margin-right: 10px;margin-top: 10px" [checked]="interanceCode=='1.9.1.7'"></mat-checkbox>-->
        </div>
        <div class="col-12 p-1 d-flex justify-content-between mt-1" style="padding: 0; border-top: 3px solid;">
            <p class="text-bold-700" style="margin-right: 10px" >
                گروه هدف :
            </p>
            <P class="text-bold-700" *ngFor="let i of array1">
                <span *ngFor="let item of targetGroupMAin">
                    <span *ngIf="i.targetGroup1===item.id">{{item.value}}</span>
                </span>
            </P>
            <p class="text-bold-700" style="margin-left: 10px">
                Target Gruop
            </p>
        </div>
    </div>
    <div class="col-12 mt-1" style="padding: 0;border: 1px solid black;">
        <div class="col-12">
            <p class="text-center text-bold-700">
                تریاژ
            </p>
        </div>
        <div class="col-12">
            <table class="table table-bordered" style="padding: 0;border: 1px solid black">
                <thead style="padding: 0;">
                <tr>
                    <th scope="col">ساعت و تاریخ
                        <br>(date & time)</th>
                    <th scope="col"> گروه های پرخطر <br>
                        High Risk Gruop </th>
                    <th scope="col">شدت بیماری بر اساس ESi <br>
                        Illness severity based on ESI
                    </th>
                    <th scope="col">پوشش بیمه ای <br>
                        Insurance Coverage
                    </th>
                    <th scope="col">حضور همراه موثر <br>
                        Effective Participant

                    </th>
                    <th scope="col" > مجموع امتیاز <br>
                    </th>

                    <th scope="col" > اولویت  <br>
                    </th>
                </tr>
                </thead>
                <tbody style="padding: 0;text-align: center">
                <tr>
                    <th scope="row">{{today}}{{finalTime}}</th>
                    <td > <span *ngFor="let i of dangerGroups"><span *ngFor="let a of selectedCityIds"><span *ngIf="a===i.code">{{i.value}},</span></span></span></td>
                    <td><span *ngIf="triageLevel==='1'">فاقد پاسخدهی</span>
                        <span *ngIf="triageLevel==='2'">وضعیت پرخطر (سطح2)</span>
                        <span *ngIf="triageLevel==='3'">تعداد تسهیلات مورد نظر 2 یا بیشتر (سطح3)</span>
                        <span *ngIf="triageLevel==='4'">تعداد تسهیلات مورد نظر1 (سطح4)</span>
                        <span *ngIf="triageLevel==='5'">عدم نیاز به تسهیلات1 (سطح5)</span>
                        <span *ngIf="triageLevel==='0'"></span>

                    </td>
                    <td>{{InsurancecoverageInput}}</td>
                    <td>{{EffectiveCompanionInput}}</td>
                    <td>{{finalScore}}</td>
                    <td>{{Level}}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 p-3 d-flex justify-content-between mt-1" style="padding: 0; border-top: 3px solid;">
            <p class="text-bold-700"style="margin-right: 10px" >
                شرح مختصر  :
            </p>
            <P class="text-bold-700">
                {{shortExplain}}
            </P>
            <p class="text-bold-700" style="margin-left: 10px">
                Brief Description
            </p>
        </div>
        <div class="col-12" style="border-top: 1px solid black;" >
            <p class="text-center text-bold-700">
                راند
            </p>
        </div>
        <div class="col-12">
            <table class="table table-bordered" style="padding: 0;margin-top: 20px">
                <thead style="padding: 0;font-size: 13px;text-align: center;">
                <tr>
                    <th style="padding: 0;">ساعت و تاریخ
                        <br>(date & time)</th>
                    <th >  شبکه های حمایتی <br>
                        Social Support
                        <br>
                        High Risk Gruop </th>
                    <th style="padding: 0;">شرایط روانی<br>

                        <br>
                        Psychological <br> Conditions
                    </th>
                    <th style="padding: 0;" > وضعیت اقتصادی  <br>
                        Financial/insurance
                    </th>
                    <th style="padding: 0;" >اختلال در عملکرد اجتماعی <br>
                        به علت بیماری و بستری
                        <br>
                        Social dysfunction due to
                        illness and gospitalization
                    </th>
                    <th style="padding: 0;" > گروه های پرخطر   <br>
                        High risk group
                    </th>

                    <th style="padding: 0;" > مسایل قانونی   <br>
                        Legal issues
                    </th>
                    <th style="padding: 0;" > شرح مختصر     <br>
                        Brief Description
                    </th>
                </tr>
                </thead>
                <tbody style="padding: 0;text-align: center">
                <tr *ngFor="let i of dataRand;let index=Index">
                    <td>{{today}}{{finalTime}}</td>
                    <td  >


                            <span *ngFor="let a of i['caseWorkerSupportNetwork']">
                            <span *ngFor="let r of supportNetwork">
                            <span *ngIf="a.supportNetwork===r.code">{{r.value}},</span>
                            </span>
                            </span>





                    </td>
                    <td>
                        <span *ngIf="i.psychologicalStatus==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.psychologicalStatus==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.psychologicalStatus==='3'">ارزیابی نشده</span>
                    </td>
                    <td>
                        <span *ngIf="i.economicStatus==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.economicStatus==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.economicStatus==='3'">ارزیابی نشده</span>
                    </td>
                    <td>
                        <span *ngIf="i.socialDysfunction==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.socialDysfunction==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.socialDysfunction==='3'">ارزیابی نشده</span>
                    </td>
                    <td>
                         <span *ngFor="let a of i['caseWorkerHighRiskGroupForRand']">
                            <span *ngFor="let r of dangerGroups">
                            <span *ngIf="a.highRiskGroup===r.code">{{r.value}},</span>
                            </span>
                            </span>
                    </td>
                    <td>
                        <span *ngIf="i.legalIssues==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.legalIssues==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.legalIssues==='3'">ارزیابی نشده</span>
                    </td>
                    <td>{{i.fewDescription}}</td>
                </tr>
                <tr *ngFor="let i of dataRand;let index=Index">
                    <td>{{today}}{{finalTime}}</td>
                    <td  >


                            <span *ngFor="let a of i['caseWorkerSupportNetwork']">
                            <span *ngFor="let r of supportNetwork">
                            <span *ngIf="a.supportNetwork===r.code">{{r.value}},</span>
                            </span>
                            </span>





                    </td>
                    <td>
                        <span *ngIf="i.psychologicalStatus==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.psychologicalStatus==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.psychologicalStatus==='3'">ارزیابی نشده</span>
                    </td>
                    <td>
                        <span *ngIf="i.economicStatus==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.economicStatus==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.economicStatus==='3'">ارزیابی نشده</span>
                    </td>
                    <td>
                        <span *ngIf="i.socialDysfunction==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.socialDysfunction==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.socialDysfunction==='3'">ارزیابی نشده</span>
                    </td>
                    <td>
                         <span *ngFor="let a of i['caseWorkerHighRiskGroupForRand']">
                            <span *ngFor="let r of dangerGroups">
                            <span *ngIf="a.highRiskGroup===r.code">{{r.value}},</span>
                            </span>
                            </span>
                    </td>
                    <td>
                        <span *ngIf="i.legalIssues==='1'">نیاز به مداخله</span>
                        <span *ngIf="i.legalIssues==='2'">عدم نیاز به مداخله</span>
                        <span *ngIf="i.legalIssues==='3'">ارزیابی نشده</span>
                    </td>
                    <td>{{i.fewDescription}}</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>  <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-12 d-flex justify-content-between p-2 ">
            <p class="text-bold-700">شرح نهایی ارزیابی </p>
            <p class="text-bold-700">{{FinalExplain}}</p>
            <p class="text-bold-700">:Final Assessment Summery</p>

        </div>
        <div class="col-12 p-2 d-flex justify-content-between " style="border-top: 1px solid ;">
            <p class="text-bold-700">  اهداف مداخله: </p>
            <p class="text-bold-700"></p>
            <p class="text-bold-700">:  Porpuse of Intervention</p>
        </div>
        <div class="col-12 " style="border-top: 1px solid ;" >
            <table class="table table-bordered" style="padding: 0;margin-top: 20px">
                <thead style="padding: 0;font-size: 13px;text-align: center;">
                <tr>
                    <th>  تاریخ مداخله
                        (Date of Intervention)
                    </th>
                    <th >  عنوان مداخله
                        High Risk Gruop </th>


                    <th >شرح مداخله
                        (Description of the intervention)
                    </th>
                </tr>

                </thead>
                <tbody style="padding: 0;text-align: center;">
                <tr *ngFor="let i of InterventionArray;let myIndex=index">
                    <td>{{i.interventionDate}}</td>
                    <td>
                        <span *ngFor="let a of i['caseWorkerInterventionTitle']">
                            <span *ngFor="let r of Intervention">
                                <span *ngIf="a.interventionTitle===r.code">{{r.value}},</span>
                            </span>
                        </span>
                    </td>
                    <td>{{i.interventionDescription}}</td>

                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>

                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>

                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>

                </tr>
                </tbody>
            </table>


        </div>
        <div class="col-12 d-flex justify-content-between p-1 " style="border-top: 1px solid ;padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px">   آیا بیمار حمایت اقتصادی نیاز دارد؟
                <label style="margin-right: 30px;" for="">بله</label>
                <!--<mat-checkbox style="margin-right: 5px;margin-top: 5px"  [checked]="hasSuppoortOK===true"></mat-checkbox>-->

                <input style="margin-right: 5px;margin-top: 5px" type="checkbox" name="" [checked]="hasSuppoortOK===true" id="">
                <label  style="margin-right: 10px;" for="">خیر</label>
                <input type="checkbox" style="margin-right: 5px;margin-top: 5px"  [checked]="hasSuppoortOK===false">

                <!--<input type="checkbox" name="" id="">-->

            </p>
            <p class="text-bold-700" style="margin-left: 10px">:  Financial of the intervention of Intervention</p>
        </div>
        <div class="col-12 p-1 d-flex justify-content-between " style="border-top: 1px solid ;padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px">
                درصد/مبلغ اولیه حمایت اقتصادی بر اساس گروه های هدف :%{{FirstPrsnet}}
            </p>

        </div>
        <div class="col-12 p-1  " style="border-top: 1px solid ;padding: 0; text-align: right;">
            <p class="text-bold-700" style="margin-right: 10px">
                 اعمال نظر ممدکار اجتماعی (30±)   :   %{{HelpPersent}}    </p>
            <p class="text-bold-700" style="margin-right: 10px">
               شرح:  {{expalinIDea}}
            </p>

        </div>
        <div class="col-12 p-1 d-flex justify-content-between " style="border-top: 1px solid ;padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px">
                درصد نهایی حمایت اقتصادی: %{{ FinallParsent}}
            </p>

        </div>
        <div class="col-12  p-1" style="border-top: 1px solid ;padding: 0; text-align: right;" >
            <p class="text-bold-700" style="margin-right: 10px">
                منبع تامین حمایت اقتصادی:
            </p>
            <p class="text-bold-700" style="margin-right: 10px">
                1-9 آورده وزارت بهداشت(ردیف نیازمندان): درصد<span class="text-bold-700">{{behdashPersent}}%</span>/مبلغ <span class="text-bold-700 mx-1">{{behdashtMoney}}</span> ریال
            </p>
            <p class="text-bold-700" style="margin-right: 10px">
                2-9 آورده  نهادهای حمایتی دولتی : درصد<span class="text-bold-700">{{dolatiPersent}}%</span>/مبلغ <span class="text-bold-700 mx-1">{{dolatiMoney}}</span>ریال
            </p>
            <p class="text-bold-700" style="margin-right: 10px">
                3-9 آورده  نهادهای حمایتی غیر دولتی : درصد<span class="text-bold-700">{{notDolatiPersent}}%</span>/مبلغ <span class="text-bold-700 mx-1">{{notDolatiMoney}}</span>ریال
            </p>
            <p class="text-bold-700" style="margin-right: 10px">
                4-9 آورده  موسسه خیریه بیمارستانی   : درصد<span class="text-bold-700">{{kheyriePersent}}%</span>/مبلغ <span class="text-bold-700 mx-1">{{kheyrieMoney}}</span>ریال
            </p>
            <p class="text-bold-700" style="margin-right: 10px">
                5-9 آورده    خیرین : درصد<span class="text-bold-700">{{nikPersent}}%</span>/مبلغ <span class="text-bold-700 mx-1">{{nikMoney}}</span>ریال
            </p>
        </div>
        <div class="col-12 p-1 d-flex justify-content-between " style="border-top: 1px solid ;padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px">
                نتیجه نهایی مداخله
            </p>
            <p *ngIf="ShowFinalInterventionFirst===true" class="text-bold-700">{{FinalInterventionSelect}} <span  ><span *ngFor="let i of FinalInterventionFirst"> <span *ngFor="let item of FinalArray"><span *ngIf="item===i.id">( {{i.value}} )</span></span></span></span></p>
            <p  *ngIf="ShowFinalInterventionSecond===true"class="text-bold-700">{{FinalInterventionSelect}} <span  ><span *ngFor="let i of FinalInterventionSecond"> <span *ngFor="let item of FinalArray"><span *ngIf="item===i.id">( {{i.value}} )</span></span></span></span></p>
            <p *ngIf="ShowFinalInterventionThird===true" class="text-bold-700">{{FinalInterventionSelect}} <span  ><span *ngFor="let i of FinalInterventionThird"> <span *ngFor="let item of FinalArray"><span *ngIf="item===i.id">( {{i.value}} )</span></span></span></span></p>
            <p class="text-bold-700" style="margin-left: 10px"> :Final Result of Intervention</p>
        </div>
        <div class="col-12 p-1 " style="border-top: 1px solid ;padding: 0;">
            <div class=" d-flex justify-content-between">
                <p class="text-bold-700" style="margin-right: 10px">
                    توصیه های پس از ترخیص:
                </p>
                <p class="text-bold-700"></p>
                <p class="text-bold-700" style="margin-left: 10px"> :  Recommendation on Dishange</p>
            </div>
            <div style="text-align: right;">
                <p class="text-bold-700">{{suggestionAfter}}</p>
            </div>


        </div>
        <div class="col-12 p-1 d-flex justify-content-between " style="border-top: 1px solid ;padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px">     نیاز به پیگیری پس از ترخیص دارد؟
                <label style="
                margin-right: 30px;" for="" >دارد </label>
                <mat-checkbox style="margin-right: 5px;margin-top: 5px"  [checked]="hasFallowUp===true"></mat-checkbox>
                <!--<input type="checkbox" [checked]="hasFallowUp===true" name="" id="">-->
                <label  style="margin-right: 10px;" for="">ندارد </label>
                <mat-checkbox style="margin-right: 5px;margin-top: 5px"  [checked]="hasFallowUp===false"></mat-checkbox>

                <!--<input type="checkbox" name="" id="" [checked]="hasFallowUp===false">-->

            </p>
            <p class="text-bold-700" style="margin-left: 10px">      :Need to Follow Up </p>
        </div>
        <div class="col-12 p-1 " style="border-top: 1px solid ;padding: 0;">
            <div class=" d-flex justify-content-between">
                <p class="text-bold-700" style="margin-right: 10px">
                    برنامه پیگیری     :
                </p>
                <p class="text-bold-700" style="margin-left: 10px">  :  Aftercare Fallow-up </p>
            </div>
            <div style="text-align: right;">
                <p style="margin-right: 10px">{{FallowProgram}}</p>
            </div>


        </div>
        <div class="col-12 p-4 d-flex justify-content-between" style="border-top: 1px solid ; padding: 0;">
            <p class="text-bold-700" style="margin-right: 10px">
                نام و نام خانوادگی و مهر امضا ممدکار اجتماعی :
            </p>
            <p>
                {{nurseFirstName}}  {{nurseLAstName}}
            </p>
            <p style="margin-left: 10px" class="text-bold-700">
                :Social Worker's Name/Signature/Stamp
            </p>

        </div>
    </div>




</div>



<ng-template #content let-c="close" let-d="dismiss" style="direction: rtl !important;font-family: iransans!important;">
            <div class="modal-header " style="direction: rtl; background-color: #63a4ff;
            background-image: linear-gradient(315deg, #63a4ff 0%, #83eaf1 74%);" >
                <h4 class="modal-title white" > راند مددکاری اجتماعی </h4>

            </div>
            <div class="modal-body" id="kbModal-body">
                <div class="col-12 d-flex" style="text-align: right;direction: rtl;font-family: iransans!important;">
                    <div class="col-6">
                        <p class="text-bold-700" style="color: black">گروه های پرخطر:</p>
                    </div>
                    <div class="col-6">
                        <p class="text-bold-700" style="color: black">شبکه حمایتی
                        :</p>
                    </div>
                </div>
                <div class="col-12 d-flex" style="direction: rtl">
                    <!--<div class="col-6" style="font-family: iransans">-->
                        <!--<div class="col-12">-->
                            <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" >-->
                                <!--<div class="col-10" (click)="showdangerList2()">-->
                            <!--<span class="px-1 " *ngFor="let i of dangerInput2;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i}}-->

                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeDanger2(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                                <!--</div>-->
                                <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeDangerAll2()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                                <!--</div>-->



                            <!--</div>-->

                            <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="showDanger2">-->
                                <!--<div class="col-12" style="padding: 0" >-->
                                    <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                        <!--<ul class="list-group" style="direction: rtl;text-align: right;padding: 0" >-->
                                            <!--<li class="list-group-item" style="cursor: pointer" (click)="getDangerItem2(i.value)" *ngFor="let i of dangerGroups">{{i.value}}</li>-->
                                        <!--</ul>-->
                                    <!--</div>-->

                                <!--</div>-->

                            <!--</div>-->
                        <!--</div>-->

                    <!--</div>-->
                    <ng-select [items]="dangerGroups"
                               style="font-family: iransans"
                               bindLabel="value"
                               bindValue="code"
                               [multiple]="true"
                               placeholder="گروه های پرخطر "
                               [hideSelected]="true"
                               [(ngModel)]="dangerRandGroup"

                    >
                    </ng-select>
                    <div class="col-6" style="font-family: iransans">
                    <!--<div class="col-12">-->
                        <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" >-->
                            <!--<div class="col-10" (click)="supportNetworkList()">-->
                            <!--<span class="px-1 " *ngFor="let i of supportNetworkInput;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i}}-->

                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeDanger2(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                            <!--</div>-->
                            <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeDangerAll2()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="ShowSupportNetwork">-->
                            <!--<div class="col-12" style="padding: 0" >-->
                                <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                    <!--<ul class="list-group" style="direction: rtl;text-align: right;padding: 0" >-->
                                        <!--<li class="list-group-item" style="cursor: pointer" (click)="getSupportNetwork(i.value,i.code)" *ngFor="let i of supportNetwork">{{i.value}}</li>-->
                                    <!--</ul>-->
                                <!--</div>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                            <!--<input type="text" class="form-control dangerInput" [(ngModel)]="supportNetworkInput"  value="{{supportNetworkInput}}"  (click)="supportNetworkList()" >-->
                            <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="ShowSupportNetwork">-->
                                <!--<div class="col-12" style="padding: 0" >-->
                                    <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                        <!--<ul class="list-group" style="direction: rtl;text-align: right;padding: 0" >-->
                                            <!--<li class="list-group-item" style="cursor: pointer" (click)="getSupportNetwork(i.value,i.code)" *ngFor="let i of supportNetwork">{{i.value}}</li>-->
                                        <!--</ul>-->
                                    <!--</div>-->

                                <!--</div>-->

                            <!--</div>-->


                        <ng-select [items]="supportNetwork"
                                   style="font-family: iransans"
                                   bindLabel="value"
                                   bindValue="code"
                                   [multiple]="true"
                                   placeholder="شبکه حمایتی"
                                   [hideSelected]="true"
                                   [(ngModel)]="supurtNetworkRand"

                        >
                        </ng-select>

                    </div>
                </div>
                <div class="col-12 mt-3 mb-2 d-flex" style="text-align: right;direction: rtl;font-family: iransans!important;">
                    <div class="col-6">
                        <p class="text-bold-700" style="color: black"> شرایط روانی  :</p>
                    </div>
                    <div class="col-6">
                        <p class="text-bold-700" style="color: black">وضعیت اقتصادی
                            :</p>
                    </div>
                </div>
                <div class="col-12 d-flex" style="direction: rtl">
                    <div class="col-6 ml-1 d-flex flex-w" style="direction: rtl;padding: 0">
                        <button class="btn col-4 btnB form-control" (click)="getPsychologicalconditionsTrue()" [ngClass]="{'Active':PsychologicalconditionsID==1}"   >نیاز به مداخله</button>
                        <button  class="btn col-4 btnB form-control" (click)="getPsychologicalconditionsFalse()" [ngClass]="{'Active':PsychologicalconditionsID==2}" style="padding: 0">عدم نیاز به مداخله</button>
                        <button  class="btn col-4 btnB form-control" (click)="getPsychologicalconditionsNone()" [ngClass]="{'Active':PsychologicalconditionsID==3}">ارزیابی نشده</button>
                    </div>
                    <div class="col-6 d-flex flex-w" style="direction: rtl;padding: 0">
                        <button class="btn btnB col-4  form-control" (click)="getEconomicSituationTrue()" [ngClass]="{'Active':EconomicSituationID==1}">نیاز به مداخله</button>
                        <button  class="btn btnB  col-4  form-control" (click)="getEconomicSituationFalse()" [ngClass]="{'Active':EconomicSituationID==2}" style="padding: 0">عدم نیاز به مداخله</button>
                        <button  class="btn btnB col-4  form-control" (click)="getEconomicSituationNone()" [ngClass]="{'Active':EconomicSituationID==3}">ارزیابی نشده</button>
                    </div>
                </div>
                <div class="col-12 mt-3 mb-2 d-flex" style="text-align: right;direction: rtl;font-family: iransans!important;">
                    <div class="col-6">
                        <p class="text-bold-700" style="color: black">اختلال در عملکرد اجتماعی :</p>
                    </div>
                    <div class="col-6">
                        <p class="text-bold-700" style="color: black">
                            مسائل قانونی
                            :</p>
                    </div>
                </div>
                <div class="col-12 d-flex" style="direction: rtl">
                    <div class="col-6 ml-1 d-flex flex-w" style="direction: rtl;padding: 0">
                        <button class="btn col-4 btnB  form-control" (click)="getDisorderTrue()" [ngClass]="{'Active':DisorderID==1}">نیاز به مداخله</button>
                        <button  class="btn col-4 btnB form-control" (click)="getDisorderFalse()" [ngClass]="{'Active':DisorderID==2}" style="padding: 0">عدم نیاز به مداخله</button>
                        <button  class="btn col-4  btnB form-control" (click)="getDisorderNone()" [ngClass]="{'Active':DisorderID==3}">ارزیابی نشده</button>
                    </div>
                    <div class="col-6 d-flex flex-w" style="direction: rtl;padding: 0">
                        <button class="btn col-4 btnB form-control" [(ngModel)]="LegalID" (click)="getLegalTrue()" [ngClass]="{'Active':LegalID==1}">نیاز به مداخله</button>
                        <button  class="btn col-4 btnB form-control" (click)="getLegalFalse()" [ngClass]="{'Active':LegalID==2}" style="padding: 0">عدم نیاز به مداخله</button>
                        <button  class="btn col-4 btnB form-control" (click)="getLegalNone()" [ngClass]="{'Active':LegalID==3}">ارزیابی نشده</button>
                    </div>
                </div>
                <div class="col-12 d-flex" style="direction: rtl">
                    <div class="col-2">
                        <p class="text-bold-700"  style="font-family: iransans;color: black">
                            شرح مختصر
                        </p>
                    </div>
                    <div class="col-10">
                        <textarea name="" id="" cols="30" class="form-control" [(ngModel)]="SummeryText"  rows="5"></textarea>
                    </div>
                </div>




            </div>

            <div class="modal-footer" style="font-family: iransans">

                <button class="btn btn-outline-primary" (click)="add()" >ذخیره</button>
                <button class="btn btn-outline-danger" (click)="c('Close click')" >لغو</button>
            </div>


    </ng-template>
<ng-template #content2 let-c="close" let-d="dismiss" style="direction: rtl !important;font-family: iransans!important;">
    <div class="modal-header " style="direction: rtl; background-color: #63a4ff;
            background-image: linear-gradient(315deg, #63a4ff 0%, #83eaf1 74%);" >
        <h4 class="modal-title white" > راند مددکاری اجتماعی </h4>

    </div>
    <div class="modal-body" id="kbModal-body">
        <div class="col-12 d-flex" style="text-align: right;direction: rtl;font-family: iransans!important;">
            <div class="col-6">
                <p class="text-bold-700" style="color: black">گروه های پرخطر:</p>
            </div>
            <div class="col-6">
                <p class="text-bold-700" style="color: black">شبکه حمایتی
                    :</p>
            </div>
        </div>
        <div class="col-12 d-flex" style="direction: rtl">
            <div class="col-6" style="font-family: iransans">
                <div class="col-12">
                    <ng-select [items]="dangerGroups"
                               style="font-family: iransans"
                               bindLabel="value"
                               bindValue="code"
                               [multiple]="true"
                               placeholder="گروه های پرخطر "
                               [hideSelected]="true"
                               [(ngModel)]="caseWorkerHighRiskGroupForRandEdit"

                    >
                    </ng-select>
                    <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" >-->
                        <!--<div class="col-10" (click)="showdangerList2()">-->
                            <!--<span class="px-1 " *ngFor="let i of dangerInput2;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i}}-->

                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeDanger2(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                        <!--</div>-->
                        <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeDangerAll2()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                        <!--</div>-->



                    <!--</div>-->

                    <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="showDanger2">-->
                        <!--<div class="col-12" style="padding: 0" >-->
                            <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                <!--<ul class="list-group" style="direction: rtl;text-align: right;padding: 0" >-->
                                    <!--<li class="list-group-item" style="cursor: pointer" (click)="getDangerItem2(i.value)" *ngFor="let i of dangerGroups">{{i.value}}</li>-->
                                <!--</ul>-->
                            <!--</div>-->

                        <!--</div>-->

                    <!--</div>-->
                </div>

            </div>
            <div class="col-6" style="font-family: iransans">
                <ng-select [items]="supportNetwork"
                           style="font-family: iransans"
                           bindLabel="value"
                           bindValue="code"
                           [multiple]="true"
                           placeholder="شبکه حمایتی"
                           [hideSelected]="true"
                           [(ngModel)]="caseWorkerSupportNetworkEdit"

                >
                </ng-select>
                <!--<div class="col-12">-->
                    <!--<div class="col-12 d-flex justify-content-between position-relative  border p-1" contenteditable="true" >-->
                        <!--<div class="col-10" (click)="supportNetworkList()">-->
                            <!--<span class="px-1 " *ngFor="let i of supportNetworkInput;let y =index" style="background-color: #e6e6e6;margin-right: 5px;margin-top: 2px;margin-top: 3px;margin-bottom: 3px">-->
                            <!--{{i}}-->

                                <!--<svg   xmlns="http://www.w3.org/2000/svg" width="16" (click)="removeDanger2(y)" height="16" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer">-->
                        <!--<path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                    <!--</svg>-->
                        <!--</span>-->
                        <!--</div>-->
                        <!--<div class="col-2">-->
                            <!--<span style="position: static;float:left;">-->
                            <!--<svg   xmlns="http://www.w3.org/2000/svg" width="30" (click)="removeDangerAll2()" height="30" fill="currentColor" class="bi bi-x hoverDelete" viewBox="0 0 16 16" style="cursor: pointer"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>-->
                            <!--</svg>-->
                        <!--</span>-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="ShowSupportNetwork">-->
                        <!--<div class="col-12" style="padding: 0" >-->
                            <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                                <!--<ul class="list-group" style="direction: rtl;text-align: right;padding: 0" >-->
                                    <!--<li class="list-group-item" style="cursor: pointer" (click)="getSupportNetwork(i.value,i.code)" *ngFor="let i of supportNetwork">{{i.value}}</li>-->
                                <!--</ul>-->
                            <!--</div>-->
                        <!--</div>-->
                    <!--</div>-->
                <!--</div>-->
                <!--<input type="text" class="form-control dangerInput" [(ngModel)]="supportNetworkInput"  value="{{supportNetworkInput}}"  (click)="supportNetworkList()" >-->
                <!--<div class="col-12 d-flex" style="padding: 0" *ngIf="ShowSupportNetwork">-->
                <!--<div class="col-12" style="padding: 0" >-->
                <!--<div class="col-12"  style="max-height: 300px;overflow-y: scroll;position: absolute;z-index: 10;direction: rtl;text-align: right;padding: 0"   >-->
                <!--<ul class="list-group" style="direction: rtl;text-align: right;padding: 0" >-->
                <!--<li class="list-group-item" style="cursor: pointer" (click)="getSupportNetwork(i.value,i.code)" *ngFor="let i of supportNetwork">{{i.value}}</li>-->
                <!--</ul>-->
                <!--</div>-->

                <!--</div>-->

                <!--</div>-->




            </div>
        </div>
        <div class="col-12 mt-3 mb-2 d-flex" style="text-align: right;direction: rtl;font-family: iransans!important;">
            <div class="col-6">
                <p class="text-bold-700" style="color: black"> شرایط روانی  :</p>
            </div>
            <div class="col-6">
                <p class="text-bold-700" style="color: black">وضعیت اقتصادی
                    :</p>
            </div>
        </div>
        <div class="col-12 d-flex" style="direction: rtl">
            <div class="col-6 ml-1 d-flex flex-w" style="direction: rtl;padding: 0">
                <button class="btn col-4 btnB form-control" (click)="getPsychologicalconditionsTrue()" [ngClass]="{'Active':psychologicalStatusEdit==='1'}"   >نیاز به مداخله</button>
                <button  class="btn col-4 btnB form-control" (click)="getPsychologicalconditionsFalse()" [ngClass]="{'Active':psychologicalStatusEdit=='2'}" style="padding: 0">عدم نیاز به مداخله</button>
                <button  class="btn col-4 btnB form-control" (click)="getPsychologicalconditionsNone()" [ngClass]="{'Active':psychologicalStatusEdit=='3'}">ارزیابی نشده</button>
            </div>
            <div class="col-6 d-flex flex-w" style="direction: rtl;padding: 0">
                <button class="btn btnB col-4  form-control" (click)="getEconomicSituationTrue()" [ngClass]="{'Active':economicStatusEdit==='1'}">نیاز به مداخله</button>
                <button  class="btn btnB  col-4  form-control" (click)="getEconomicSituationFalse()" [ngClass]="{'Active':economicStatusEdit==='2'}" style="padding: 0">عدم نیاز به مداخله</button>
                <button  class="btn btnB col-4  form-control" (click)="getEconomicSituationNone()" [ngClass]="{'Active':economicStatusEdit==='3'}">ارزیابی نشده</button>
            </div>
        </div>
        <div class="col-12 mt-3 mb-2 d-flex" style="text-align: right;direction: rtl;font-family: iransans!important;">
            <div class="col-6">
                <p class="text-bold-700" style="color: black">اختلال در عملکرد اجتماعی :</p>
            </div>
            <div class="col-6">
                <p class="text-bold-700" style="color: black">
                    مسائل قانونی
                    :</p>
            </div>
        </div>
        <div class="col-12 d-flex" style="direction: rtl">
            <div class="col-6 ml-1 d-flex flex-w" style="direction: rtl;padding: 0">
                <button class="btn col-4 btnB  form-control" (click)="getDisorderTrue()" [ngClass]="{'Active':socialDysfunctionEdit==='1'}">نیاز به مداخله</button>
                <button  class="btn col-4 btnB form-control" (click)="getDisorderFalse()" [ngClass]="{'Active':socialDysfunctionEdit==='2'}" style="padding: 0">عدم نیاز به مداخله</button>
                <button  class="btn col-4  btnB form-control" (click)="getDisorderNone()" [ngClass]="{'Active':socialDysfunctionEdit==='3'}">ارزیابی نشده</button>
            </div>
            <div class="col-6 d-flex flex-w" style="direction: rtl;padding: 0">
                <button class="btn col-4 btnB form-control" [(ngModel)]="LegalID" (click)="getLegalTrue()" [ngClass]="{'Active':legalIssuesEdit=='1'}">نیاز به مداخله</button>
                <button  class="btn col-4 btnB form-control" (click)="getLegalFalse()" [ngClass]="{'Active':legalIssuesEdit==='2'}" style="padding: 0">عدم نیاز به مداخله</button>
                <button  class="btn col-4 btnB form-control" (click)="getLegalNone()" [ngClass]="{'Active':legalIssuesEdit==='3'}">ارزیابی نشده</button>
            </div>
        </div>
        <div class="col-12 d-flex" style="direction: rtl">
            <div class="col-2">
                <p class="text-bold-700"  style="font-family: iransans;color: black">
                    شرح مختصر
                </p>
            </div>
            <div class="col-10">
                <textarea name="" id="" cols="30" class="form-control" [(ngModel)]="fewDescriptionEdit"  rows="5"></textarea>
            </div>
        </div>

    </div>

    <div class="modal-footer" style="font-family: iransans">

        <button class="btn btn-outline-danger" (click)="c('Close click')" >لغو</button>
        <button class="btn btn-outline-danger" (click)="saveEditRand()" >ذخیره</button>
    </div>


</ng-template>
<ng-template #content3 let-c="close" let-d="dismiss" style="direction: rtl !important;font-family: iransans!important;">
    <div class="modal-header " style="direction: rtl; background-color: #63a4ff;
            background-image: linear-gradient(315deg, #63a4ff 0%, #83eaf1 74%);" >
        <h4 class="modal-title white" >اطلاعات مداخله</h4>

    </div>
    <div class="modal-body" id="kbModal-body">

<div class="col-12 d-flex justify-content-between">

    <div class="col-4 my-1" style="text-align: right">
        <!--<p for="" class="mt-1 text-bold-700" style="color: black">تاریخ مداخله:</p>-->
        <dp-date-picker
                dir="rtl"
                mode="day"
                class="form-control"
                placeholder="تاریخ"
                theme="dp-material"
                [(ngModel)]="MOdakheleDate">
        </dp-date-picker>

    </div>
    <div class="col-7  my-2">
        <ng-select [items]="Intervention"
                   style="font-family: iransans"
                   bindLabel="value"
                   bindValue="code"
                   [multiple]="true"
                   placeholder="اطلاعات مداخله"
                   [hideSelected]="true"
                   [(ngModel)]="testArray"


        >
        </ng-select>
    </div>

</div>

        <div class="col-12 my-2 " style="text-align: right">

                <p for="" class="mt-1 text-bold-700" style="color: black">شرح  مداخله :</p>

            <textarea name="" [(ngModel)]="intervationDiscription2" class="form-control" id="" cols="30" rows="3"></textarea>
        </div>






    </div>

    <div class="modal-footer" style="font-family: iransans">

        <button class="btn btn-outline-danger" (click)="c('Close click')" >لغو</button>
        <button class="btn btn-outline-danger" (click)="saveINtervation()" >ذخیره</button>
    </div>


</ng-template>
<ng-template #content4 let-c="close" let-d="dismiss" style="direction: rtl !important;font-family: iransans!important;">
    <div class="modal-header " style="direction: rtl; background-color: #63a4ff;
            background-image: linear-gradient(315deg, #63a4ff 0%, #83eaf1 74%);" >
        <h4 class="modal-title white" >اطلاعات مداخله</h4>

    </div>
    <div class="modal-body" id="kbModal-body">

        <div class="col-12 d-flex justify-content-between">

            <div class="col-4 my-1" style="text-align: right">
                <!--<p for="" class="mt-1 text-bold-700" style="color: black">تاریخ مداخله:</p>-->
                <dp-date-picker
                        dir="rtl"
                        mode="day"
                        class="form-control"
                        placeholder="تاریخ"
                        theme="dp-material"
                        [(ngModel)]="interVAtionDateEdit">
                </dp-date-picker>

            </div>
            <div class="col-7  my-2">
                <ng-select [items]="Intervention"
                           style="font-family: iransans"
                           bindLabel="value"
                           bindValue="code"
                           [multiple]="true"
                           placeholder="اطلاعات مداخله"
                           [hideSelected]="true"
                           [(ngModel)]="caseWorkerInterventionTitleEdit"


                >
                </ng-select>
            </div>

        </div>

        <div class="col-12 my-2 " style="text-align: right">

            <p for="" class="mt-1 text-bold-700" style="color: black">شرح  مداخله :</p>

            <textarea name="" [(ngModel)]="interventionDescriptionEdit" class="form-control" id="" cols="30" rows="3"></textarea>
        </div>






    </div>

    <div class="modal-footer" style="font-family: iransans">

        <button class="btn btn-outline-danger" (click)="c('Close click')" >لغو</button>
        <button class="btn btn-outline-danger" (click)="saveINtervationEdit()" >ذخیره</button>
    </div>


</ng-template>

